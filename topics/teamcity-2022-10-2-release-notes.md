[//]: # (title: TeamCity 2022.10.2 Release Notes)
[//]: # (auxiliary-id: TeamCity 2022.10.2 Release Notes)

__Build: ???__

__1 February 2023__

### Feature

**[TW-61888](https://youtrack.jetbrains.com/issue/TW-61888/Support-the-config-param-teamcity.agent.dotCover.log-in-.net-CLI-runner-for-dotCover-log-file-like-for-other-.net-runners)** — Support the config param `teamcity.agent.dotCover.log` in .net CLI runner for dotCover log file like for other .net runners

**[TW-78722](https://youtrack.jetbrains.com/issue/TW-78722/Personal-builds-shelvedChangelist-parameter-is-inaccessible-in-templated-build-steps)** — Personal build's shelvedChangelist parameter is inaccessible in templated build steps

### Bug

**[TW-79411](https://youtrack.jetbrains.com/issue/TW-79411/Update-Perforce-Packages-TeamCity-Docker-Images)** — Update Perforce Packages @ TeamCity Docker Images

**[TW-76085](https://youtrack.jetbrains.com/issue/TW-76085/add-internal-retry-for-git-fetch-if-branch-is-no-longer-in-the-remote)** — add internal retry for git fetch if branch is no longer in the remote

**[TW-56868](https://youtrack.jetbrains.com/issue/TW-56868/ClientProtocolException-Occuring-in-Commit-Status-Publisher-when-the-repository-was-renamed)** — ClientProtocolException Occuring in Commit Status Publisher when the repository was renamed

**[TW-78582](https://youtrack.jetbrains.com/issue/TW-78582/Build-status-for-Bitbucket-Server-Data-Center-does-not-contain-build-number-even-for-started-failed-succeeded-statuses)** — Build status for Bitbucket Server / Data Center does not contain build number even for started/failed/succeeded statuses

**[TW-78095](https://youtrack.jetbrains.com/issue/TW-78095/Return-the-field-compatibleCloudImages)** — Return the field 'compatibleCloudImages'

**[TW-77282](https://youtrack.jetbrains.com/issue/TW-77282/Changing-DSL-Context-Parameter-in-one-project-causes-Versioned-Settings-to-reload-for-other-projects-using-the-same-VCS-root-for)** — Changing DSL Context Parameter in one project causes Versioned Settings to reload for other projects using the same VCS root for settings

**[TW-79097](https://youtrack.jetbrains.com/issue/TW-79097/Promote-personal-build-applies-patch-to-the-most-recent-revision)** — Promote personal build applies patch to the most recent revision

**[TW-78849](https://youtrack.jetbrains.com/issue/TW-78849/Allow-disabling-Sakura-UI-banner-on-a-per-user-basis)** — Allow disabling Sakura UI banner on a per-user basis

**[TW-77536](https://youtrack.jetbrains.com/issue/TW-77536/Large-database-size-because-of-large-customdatabody-table-in-case-of-PostgreSQL)** — Large database size because of large custom_data_body table in case of PostgreSQL

**[TW-79412](https://youtrack.jetbrains.com/issue/TW-79412/Update-Git-version-TeamCity-Docker-Images)** — Update Git version @ TeamCity Docker Images

**[TW-78710](https://youtrack.jetbrains.com/issue/TW-78710/Updating-the-HTTPS-Redirect-setting-can-lead-to-updating-the-Server-URL-with-incorrect-IP-dns)** — Updating the "HTTPS Redirect" setting can lead to updating the Server URL with incorrect IP/dns

**[TW-79083](https://youtrack.jetbrains.com/issue/TW-79083/Cant-open-the-custom-plugin-tab-on-the-Build-Configuration-level-if-the-brach-is-selected-in-the-branch-selector)** — Can't open the custom/plugin tab on the Build Configuration level if the brach is selected in the branch selector

**[TW-77644](https://youtrack.jetbrains.com/issue/TW-77644/Click-on-a-checkbox-near-the-test-name-shifts-the-page-to-the-top)** — Click on a checkbox near the test name shifts the page to the top

**[TW-77790](https://youtrack.jetbrains.com/issue/TW-77790/JS-error-on-Agents-page)** — JS error on Agents page

**[TW-77893](https://youtrack.jetbrains.com/issue/TW-77893/Commit-Status-publisher-posting-status-links-to-parent-project-instead-of-build)** — Commit Status publisher posting status/links to parent project instead of build

**[TW-79175](https://youtrack.jetbrains.com/issue/TW-79175/S3-Storage-S3-artifact-storage-hanging-timing-out-with-large-artifacts-after-upgrade-to-2022.10)** — [S3 Storage] S3 artifact storage hanging/timing out with large artifacts after upgrade to 2022.10

**[TW-78858](https://youtrack.jetbrains.com/issue/TW-78858/Lots-of-logs-Failed-to-find-agent-type-for-agent-...-in-teamcity-server.log-after-removal-of-a-non-cloud-agent)** — Lots of logs "Failed to find agent type for agent ..." in teamcity-server.log after removal of a non cloud agent

**[TW-78250](https://youtrack.jetbrains.com/issue/TW-78250/Passwords-and-tokens-starting-with-a-hyphen-do-not-work-for-a-git-VCS-root-authentication)** — Passwords and tokens starting with a hyphen do not work for a git VCS root authentication

**[TW-78959](https://youtrack.jetbrains.com/issue/TW-78959/Secondary-node-agents-page-does-not-show-newly-registered-non-cloud-agents)** — Secondary node agents page does not show newly registered non cloud agents

**[TW-78759](https://youtrack.jetbrains.com/issue/TW-78759/HTTPS-Settings.-Long-string-in-certificate-data-breaks-the-table)** — HTTPS Settings. Long string in certificate data breaks the table

**[TW-78680](https://youtrack.jetbrains.com/issue/TW-78680/Slack-Notifier-doesnt-send-changes-from-snapshot-dependencies)** — Slack Notifier doesn't send changes from snapshot dependencies

**[TW-79298](https://youtrack.jetbrains.com/issue/TW-79298/Troubles-when-creating-AWS-Credentials-on-cn-north-1-AWS-China)** — Troubles when creating AWS Credentials on cn-north-1 AWS China

**[TW-77542](https://youtrack.jetbrains.com/issue/TW-77542/new-branches-not-visible-and-high-memory-usage-till-GC-stops-working)** — new branches not visible and high memory usage till GC stops working

**[TW-63306](https://youtrack.jetbrains.com/issue/TW-63306/Provide-a-way-to-skip-bad-p4-changelists-jetbrains.buildServer.vcs.VcsException-Perforce-problem-No-Translation-for-parameter)** — Provide a way to skip bad p4 changelists (jetbrains.buildServer.vcs.VcsException: Perforce problem: No Translation for parameter 'data' value)

**[TW-78151](https://youtrack.jetbrains.com/issue/TW-78151/Build-failure-condition-may-be-calculated-incorrectly-at-the-end-of-the-build)** — Build failure condition may be calculated incorrectly at the end of the build

**[TW-78594](https://youtrack.jetbrains.com/issue/TW-78594/Patches-are-upload-according-to-default-stream-and-not-building-stream-with-remapping)** — Patches are upload according to default stream and not building stream with remapping

**[TW-79025](https://youtrack.jetbrains.com/issue/TW-79025/Build-with-refreshable-token-can-fail-with-error-could-not-read-Password-for-repo)** — Build with refreshable token can fail with error "could not read Password for repo"

**[TW-69577](https://youtrack.jetbrains.com/issue/TW-69577/Perforce-Jobs-details-are-not-shown-in-new-Changes-tab-in-Sakura-UI)** — Perforce Jobs details are not shown in new Changes tab in Sakura UI

**[TW-76826](https://youtrack.jetbrains.com/issue/TW-76826/Clicking-fast-on-View-as-Code-Edit-in-UI-button-makes-UI-disappear)** — Clicking fast on `View as Code`/`Edit in UI` button makes UI disappear

**[TW-77276](https://youtrack.jetbrains.com/issue/TW-77276/No-clear-UI-notification-that-I-cant-authorize-an-agent-due-to-license-count)** — No clear UI notification that I can't authorize an agent due to license count

**[TW-78919](https://youtrack.jetbrains.com/issue/TW-78919/Perforce-Shelve-trigger-does-not-work-on-secondary-node)** — Perforce Shelve trigger does not work on secondary node

**[TW-78890](https://youtrack.jetbrains.com/issue/TW-78890/TeamCity-S3-Storage-requires-excessive-GetAccelerateConfiguration-permission)** — TeamCity S3 Storage requires excessive GetAccelerateConfiguration permission

**[TW-78661](https://youtrack.jetbrains.com/issue/TW-78661/Clicking-on-the-build-status-on-the-Dependencies-List-tab-resets-filters-before-redirect)** — Clicking on the build status on the Dependencies -> List tab resets filters before redirect

**[TW-77300](https://youtrack.jetbrains.com/issue/TW-77300/Test-History-Information-about-new-builds-is-not-displayed-without-reloading-of-the-page)** — Test History: Information about new builds is not displayed without reloading of the page

**[TW-78412](https://youtrack.jetbrains.com/issue/TW-78412/TeamCity-ignores-AWS-errors-about-exhausted-spot-capacity-for-cloud-image)** — TeamCity ignores AWS errors about exhausted spot capacity for cloud image

**[TW-78787](https://youtrack.jetbrains.com/issue/TW-78787/Huge-build-log-processing-in-build-failure-condition-on-text-prevents-build-from-interrupting-stopping)** — Huge build log processing in build failure condition on text prevents build from interrupting/stopping

**[TW-78856](https://youtrack.jetbrains.com/issue/TW-78856/STS-Client-doesnt-respect-TC-Proxy-settings-teamcity.http.proxy..aws)** — STS Client doesn't respect TC Proxy settings (teamcity.http.proxy.*.aws)

**[TW-78610](https://youtrack.jetbrains.com/issue/TW-78610/ECS-agent-plugin-spawns-more-instances-than-configuration-permitts)** — ECS agent plugin spawns more instances than configuration permitts

**[TW-78458](https://youtrack.jetbrains.com/issue/TW-78458/Usage-of-branchpolicyXXXX-locator-dimensions-causes-HTTP-400)** — Usage of branch:(policy:XXXX) locator dimensions causes HTTP 400

### Performance Problem

**[TW-76292](https://youtrack.jetbrains.com/issue/TW-76292/Slow-LinearRevisionCalculator.findLatestRevisionAffectingBuildType-delays-finish-build-trigger-and-checking-for-changes)** — Slow LinearRevisionCalculator.findLatestRevisionAffectingBuildType delays finish build trigger and checking for changes

**[TW-79024](https://youtrack.jetbrains.com/issue/TW-79024/Expensive-requests-for-all-branches-on-test-history-page)** — Expensive requests for all branches on test history page

**[TW-79247](https://youtrack.jetbrains.com/issue/TW-79247/Slow-loading-of-data-from-vcschangeattrs-table-on-Oracle-database)** — Slow loading of data from vcs_change_attrs table on Oracle database

### Task

**[TW-79312](https://youtrack.jetbrains.com/issue/TW-79312/AWS-Connection-Add-an-easy-way-to-allow-all-AWS-STS-endpoints-via-internal-property)** — AWS Connection: Add an easy way to allow all AWS STS endpoints via internal property

**[TW-78341](https://youtrack.jetbrains.com/issue/TW-78341/Increase-Perforce-communication-timeouts-for-perforce-commands-executed-on-the-agent)** — Increase Perforce communication timeouts for perforce commands executed on the agent

**[TW-77879](https://youtrack.jetbrains.com/issue/TW-77879/New-UI-for-Perforce-Jobs-details-popup)** — New UI for Perforce Jobs details popup


### Security

6 security problems have been fixed.






























