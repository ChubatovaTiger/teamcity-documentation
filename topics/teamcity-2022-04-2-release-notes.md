[//]: # (title: TeamCity 2022.04.2 Release Notes)
[//]: # (auxiliary-id: TeamCity 2022.04.2 Release Notes)

__Build: 108655__

__13 July 2022__

### Usability Problem

**[TW-74924](https://youtrack.jetbrains.com/issue/TW-74924/s3-migration-tool-provide-notification-when-there-is-nothing-to-delete-from-source)** — s3 migration tool. provide notification when there is nothing to delete from source.

### Bug

**[TW-73117](https://youtrack.jetbrains.com/issue/TW-73117/Single-change-page-impossible-to-select-Build-configuration-for-changed-files)** — Single change page: impossible to select Build configuration for changed files

**[TW-76205](https://youtrack.jetbrains.com/issue/TW-76205/Missing-failed-tests-section-on-overview-of-a-personal-build)** — Missing failed tests section on overview of a personal build

**[TW-76493](https://youtrack.jetbrains.com/issue/TW-76493/Duplicated-NET-test-invocations-after-adding-Parallel-tests-build-feature)** — Duplicated .NET test invocations after adding Parallel tests build feature

**[TW-75146](https://youtrack.jetbrains.com/issue/TW-75146/GitLab-commit-status-publisher-doesnt-distinguish-build-configurations-with-same-name-from-different-projects)** — GitLab commit status publisher doesn’t distinguish build configurations with same name from different projects.

**[TW-74061](https://youtrack.jetbrains.com/issue/TW-74061/C-script-runner-build-is-green-when-C-script-tool-could-not-start)** — C# script runner build is green when C# script tool could not start

**[TW-76652](https://youtrack.jetbrains.com/issue/TW-76652/teamcitycommitStatusPublishergithubContext-no-longer-works-in-TeamCity-202241)** — teamcity.commitStatusPublisher.githubContext no longer works in TeamCity 2022.4.1

**[TW-76007](https://youtrack.jetbrains.com/issue/TW-76007/Perforce-Shelve-Trigger-Java-Heap-Space-while-processing-a-big-changelist)** — Perforce Shelve Trigger: Java Heap Space while processing a big changelist

**[TW-76683](https://youtrack.jetbrains.com/issue/TW-76683/Perforce-mismatched-streams-after-updating-sources-is-interrupted)** — Perforce mismatched streams after updating sources is interrupted

**[TW-73701](https://youtrack.jetbrains.com/issue/TW-73701/Secondary-node-may-never-load-new-projects-or-build-configurations-if-it-detects-a-certain-critical-error)** — Secondary node may never load new projects or build configurations if it detects a certain critical error

**[TW-76545](https://youtrack.jetbrains.com/issue/TW-76545/Composite-build-does-not-update-artifact-dependency-references-in-case-when-one-of-its-dependencies-was-restarted)** — Composite build does not update artifact dependency references in case when one of its dependencies was restarted

**[TW-76663](https://youtrack.jetbrains.com/issue/TW-76663/Secondary-node-cant-connect-to-the-database-if-SQL-server-cluster-is-specified-in-JDBC-URL)** — Secondary node can't connect to the database if SQL server cluster is specified in JDBC URL

**[TW-76409](https://youtrack.jetbrains.com/issue/TW-76409/Filter-changes-by-Users-Me-does-not-work-for-Pending-and-built-changes-in-Experimental-UI)** — Filter changes by Users = "Me" does not work for Pending and built changes in Experimental UI

**[TW-76730](https://youtrack.jetbrains.com/issue/TW-76730/ConcurrentModificationException-while-reloading-project-configuration-files-from-disk)** — ConcurrentModificationException while reloading project configuration files from disk

**[TW-76445](https://youtrack.jetbrains.com/issue/TW-76445/Nessus-reports-some-of-the-libraries-as-having-dependency-on-1217-log4j)** — Nessus reports some of the libraries as having dependency on 1.2.17 log4j

**[TW-75977](https://youtrack.jetbrains.com/issue/TW-75977/NET-parallel-tests-all-tests-start-in-each-virtual-build-configuration-with-msbuild-command)** — .NET parallel tests: all tests start in each virtual build configuration with msbuild command

**[TW-76661](https://youtrack.jetbrains.com/issue/TW-76661/Race-condition-in-build-number-resolving)** — Race condition in build number resolving

**[TW-75593](https://youtrack.jetbrains.com/issue/TW-75593/Teamcity-point-on-mute-sign-Cannot-read-properties-of-undefined-reading-id)** — Teamcity: point on mute sign: Cannot read properties of undefined (reading 'id')

**[TW-76687](https://youtrack.jetbrains.com/issue/TW-76687/Empty-build-log-for-some-builds-due-to-incorrect-offsets-recorded-into-the-build-log-index-file)** — Empty build log for some builds due to incorrect offsets recorded into the build log index file

**[TW-76228](https://youtrack.jetbrains.com/issue/TW-76228/Parallel-tests-fail-in-part-of-batches-with-NET-and-NUnit)** — Parallel tests fail in part of batches with .NET and NUnit

**[TW-76039](https://youtrack.jetbrains.com/issue/TW-76039/Test-trees-are-merged-incorrectly-for-a-single-change)** — Test trees are merged incorrectly for a single change

**[TW-76598](https://youtrack.jetbrains.com/issue/TW-76598/ERROR-RewritePolicy-contains-an-invalid-element-or-attribute-ColorizeRewritePolicy-when-running-maintainDB)** — ERROR RewritePolicy contains an invalid element or attribute "ColorizeRewritePolicy" when running maintainDB

**[TW-76632](https://youtrack.jetbrains.com/issue/TW-76632/Critical-error-with-a-TemplateCannotBeRemovedException-can-appear-on-a-secondary-node-after-some-changes-made-to-a-project)** — Critical error with a TemplateCannotBeRemovedException can appear on a secondary node after some changes made to a project

**[TW-61477](https://youtrack.jetbrains.com/issue/TW-61477/EC2-Launch-template-display-correct-template-version-in-Edit-Image-dialog)** — EC2 Launch template. display correct template version in Edit Image dialog.

**[TW-76375](https://youtrack.jetbrains.com/issue/TW-76375/A-user-with-limited-permissions-unable-to-open-cloud-profile-settings-from-the-cloud-agent-page)** — A user with limited permissions unable to open cloud profile settings from the cloud agent page

**[TW-76499](https://youtrack.jetbrains.com/issue/TW-76499/Access-to-SVN-VCS-with-SSH-Keys-Broken-after-upgrade-to-2022041)** — Access to SVN VCS with SSH Keys Broken after upgrade to 2022.04.1

**[TW-76451](https://youtrack.jetbrains.com/issue/TW-76451/Parallel-testing-creates-invalid-excludedTeststxt-file-failing-the-build)** — Parallel testing creates invalid excludedTests.txt file, failing the build.

**[TW-76448](https://youtrack.jetbrains.com/issue/TW-76448/Build-log-scroll-to-top-and-scroll-to-bottom-buttons-do-not-work)** — Build log 'scroll to top' and 'scroll to bottom' buttons do not work

**[TW-63851](https://youtrack.jetbrains.com/issue/TW-63851/Stopping-cloud-agents-Force-stop-link-shown-in-two-lines)** — Stopping cloud agents "Force stop" link shown in two lines

**[TW-76429](https://youtrack.jetbrains.com/issue/TW-76429/System-properties-and-env-variables-look-editable-for-a-user-without-Customize-build-parameters-permission)** — System properties and env variables look editable for a user without Customize build parameters permission

**[TW-76249](https://youtrack.jetbrains.com/issue/TW-76249/User-accounts-created-via-the-REST-API-cannot-login)** — User accounts created via the REST API cannot login

**[TW-72457](https://youtrack.jetbrains.com/issue/TW-72457/Bad-new-UI-in-case-of-compilation-problems)** — Bad new UI in case of compilation problems

**[TW-76424](https://youtrack.jetbrains.com/issue/TW-76424/Allow-test-mute-in-parallelized-build-types)** — Allow 'test mute' in parallelized build types

**[TW-74642](https://youtrack.jetbrains.com/issue/TW-74642/Change-page-experimental-UI-blinking-when-Hide-successfully-finished-and-not-triggered-configurations)** — Change page, experimental UI: blinking when "Hide successfully finished and not triggered configurations"

**[TW-71296](https://youtrack.jetbrains.com/issue/TW-71296/Free-Disk-Space-feature-checks-space-on-checkout-dir-disk-only-after-checkout-if-the-checkout-dir-is-on-a-different-file-system)** — Free Disk Space feature checks space on checkout dir disk only after checkout if the checkout dir is on a different file system than agent system dir

**[TW-76282](https://youtrack.jetbrains.com/issue/TW-76282/filter-branches-box-in-the-Branch-Filter-magic-wand-pop-up-doesnt-filter-the-branches)** — &lt;filter branches> box in the Branch Filter magic wand pop-up doesn't filter the branches

**[TW-76244](https://youtrack.jetbrains.com/issue/TW-76244/S3-migration-tool-NPE-can-be-thrown-if-project-or-subproject-uses-Google-Storage-to-store-artifacts)** — S3 migration tool. NPE can be thrown if project or subproject uses Google Storage to store artifacts.

### Performance Problem

**[TW-76639](https://youtrack.jetbrains.com/issue/TW-76639/Service-Messages-performance-regression-with-gradle-runner-plugin)** — Service Messages performance regression with gradle-runner plugin

**[TW-76366](https://youtrack.jetbrains.com/issue/TW-76366/Slow-artifact-upload-during-the-build-using-the-publishArtifacts-servicemessage)** — Slow artifact upload during the build using the publishArtifacts servicemessage

**[TW-75327](https://youtrack.jetbrains.com/issue/TW-75327/Changes-page-change-tabs-lack-of-loading-feedback-and-unresponsive-with-many-buildstestsconfigurations)** — Changes page: change tabs lack of loading feedback and unresponsive with many builds/tests/configurations

**[TW-76596](https://youtrack.jetbrains.com/issue/TW-76596/perforceShelve-Trigger-checking-too-aggressively)** — perforceShelve Trigger checking too aggressively

**[TW-76083](https://youtrack.jetbrains.com/issue/TW-76083/slow-versionedSettings-token-page-loading)** — slow versionedSettings token page loading

**[TW-76712](https://youtrack.jetbrains.com/issue/TW-76712/Obsolete-buildChainChangesCollecting-multi-node-tasks-can-pile-up-in-the-database)** — Obsolete 'buildChainChangesCollecting' multi node tasks can pile up in the database

**[TW-76397](https://youtrack.jetbrains.com/issue/TW-76397/Changes-collection-can-become-really-slow-if-a-VCS-root-includes-tags)** — Changes collection can become really slow if a VCS root includes tags

**[TW-76403](https://youtrack.jetbrains.com/issue/TW-76403/Copy-project-operation-interlocks-with-UserSummaryRemoteManager2getGZippedSummary-invalidateProjectMutesCache)** — Copy project operation interlocks with UserSummaryRemoteManager2.getGZippedSummary (invalidateProjectMutesCache)

### Task

**[TW-75670](https://youtrack.jetbrains.com/issue/TW-75670/NET-split-tests-add-information-in-a-build-log-about-MicrosoftNETTestSdk-requirement)** — .NET split tests: add information in a build log about Microsoft.NET.Test.Sdk requirement

**[TW-76476](https://youtrack.jetbrains.com/issue/TW-76476/C-script-tool-copyright-holder-should-be-JetBrains)** — C# script tool: copyright holder should be JetBrains











